---
layout: default
title: Creating Metadata
nav_order: 0
parent: Metadata
---

## Creating Metadata

Metadata are created for geospatial data layers using a combination of a spreadsheet, automation routines, and ArcGIS. Using a spreadsheet to manage metadata creation is more efficient, especially when working with multiple layers. However, ArcGIS provides a suite of useful tools for cataloging, viewing, and wrangling data in cases where data need to be inspected or modified.

### Creating a Metadata Spreadsheet

Make a copy of the GIS metadata template _metadata.csv_. Add the Filenames, DRUIDs, and Titles, from the list of registered layers.

|FILENAME|DRUID|TITLE|UUID|
|:-----|:-----|:-----|:-----|
|alameda2012.shp|rp378rd3804|Important Farmland, Alameda County, California, 2012|564c855e-e45a-47dc-b0c4-001839b00864|
|amador2012.shp|mc357cj1107|Important Farmland, Amador County, California, 2012|e011c181-590e-4d9a-bcbd-de2df592d00c|
|butte2012.shp|wf469qr5893|Important Farmland, Butte County, California, 2012|0cb51486-aebf-4e64-8d07-2f1039bafee1|

### GIS Metadata Template Elements

Metadata properties and their description.

|Property|Description|
|:-----|:-----|
|filename|Filename of the data (incl. extension)|
|druid|DRUID|
|title|Title of the resource|
|originator|Personal or organization who created the resource|
|publisher|Organization that published the data|
|publicationDate|Publication date for the resource|
|abstract|Descriptive summary of the data|
|theme||
|place||
|temporalBegin||
|temporalEnd||
|CollectionTitle||
|CollectionDruid||
|relatedItemTitle||
|relatedItemURL||
|contactName||
|contactEmail||
|uuid||

* Save a copy of [this Python script](https://github.com/kimdurante/metadataWorkflow/blob/master/scripts/addMetadata.py) in the collection directory. 
 
Run:

```>>> python addMetadata.py```

The following fields will be autogenerated:

|FIELD|VALUE|
|:-----|:-----|
|Title|Important Farmland, Alameda County, California, 2012|
|Credit|California Farmland Mapping and Monitoring Program. (2012). Important Farmland, Alameda County, California, 2012. California Farmland Mapping and Monitoring Program. Available at: http://purl.stanford.edu/rp378rd3804.|
|Identifier|https://purl.stanford.edu/rp378rd3804|
|Metadata File Identifier|edu.stanford.purl:rp378rd3804|
|Dataset URI|https://purl.stanford.edu/rp378rd3804|
|Distribution Online Linkage|https://purl.stanford.edu/rp378rd3804|
|Distribution Online Name|alameda2012.shp|
|Feature Catalog Identifier|564c855e-e45a-47dc-b0c4-001839b00864|


#### Create a Thumbnail Image

* On the Preview tab use the Thumbnail Generator tool to create a thumbnail preview for the layer.

![alameda.jpg](https://raw.githubusercontent.com/kimdurante/geospatial-data-management/main/content/img/alameda.jpg)

#### Autogenerating Thumbnail Images

Currently only works for polygon data types.

[Use this Python script to autogenerate thumbnail images for polygon shapefile data](https://raw.githubusercontent.com/kimdurante/metadataWorkflow/master/scripts/createThumbnails.py). This script will create a JPEG and insert the binary code into the ArcGISXML metadata.

### Creating a Collection Template

* Copy the [the GIS XML template](https://raw.githubusercontent.com/kimdurante/metadataWorkflow/master/templates/template.xml) into the data folder.

* Open ArcGIS and connect to the data folder.

### Importing a Template

* Import the template into each layer using one of the following methods. Note that importing a template will overwrite any existing metadata.

#### Python

* [This python script can be run from the collection folder](https://github.com/kimdurante/metadataWorkflow/blob/master/scripts/importTemplate.py)

#### ArcPy

* To apply a template to a collection, from the Menu bar: ```GeoProcessing > Python```

* Enter the code below. Replace ```C:/PATH/TO/DIRECTORY``` with the correct path:

```
>>> import os, arcpy
>>> from arcpy import env
>>> env.workspace: r‘C:/PATH/TO/DIRECTORY’
>>> layers = arcpy.ListFeatureClasses('*')
>>> for layer in layers:
    arcpy.ImportMetadata_conversion(r"gis_template.xml",FROM_ARCGIS",layer)
```
